{"version":3,"sources":["redux/auth/auth-operations.js","redux/auth/selectors.js","redux/auth/auth-slice.js","redux/Phonebook/phonebook-actions.js","services/api-store.js","redux/Phonebook/phonebook-operations.js","redux/Phonebook/selectors.js","redux/Phonebook/phonebook-reducer.js","Components/Navigation.js","Components/UserMenu/Gubka_BobAvatar.jpg","Components/UserMenu/UserMenu.js","Components/AuthNav.js","Components/AppBar.js","Components/PrivateRoute.js","Components/PublicRoute.js","App.js","redux/store.js","index.js"],"names":["token","axios","defaults","headers","common","Authorization","register","createAsyncThunk","userReg","a","rejectWithValue","console","log","post","data","message","logIn","userLogIn","logOut","_","fetchCurrentUser","thunkAPI","state","getState","persistedToken","auth","get","operations","authSelectors","getIsLoggedIn","isLoggedIn","getUserName","user","name","authSlice","createSlice","initialState","email","extraReducers","authOperations","fulfilled","action","payload","rejected","isLoading","error","changeFilter","createAction","fetchContactsAsync","addContactAsync","o","deleteContactsAsync","id","delete","baseURL","fetchContact","actualAPI","contacts","addContact","cont","deleteContact","contactsOperations","contactsSelectors","getContacts","contactsList","getFilter","contactsFilter","getLoading","loading","createReducer","filter","pending","combineReducers","Navigation","className","to","exact","UserMenu","dispatch","useDispatch","useSelector","avatar","defaultAvatar","src","width","alt","style","fontSize","height","type","onClick","AuthNav","activestyle","AppBar","href","xmlns","fill","viewBox","d","PrivateRoute","children","redirectTo","PublicRoute","restricted","ContactsView","lazy","HomeView","RegisterView","LoginView","App","useEffect","fallback","path","element","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf110d0e.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nconst register = createAsyncThunk(\n  \"auth/register\",\n  async (userReg, { rejectWithValue }) => {\n    console.log(userReg);\n    try {\n      const { data } = await axios.post(\"users/signup\", userReg);\n      token.set(data.token);\n      return data;\n    } catch (err) {\n      return rejectWithValue(err.message);\n    }\n  }\n);\n\nconst logIn = createAsyncThunk(\n  \"auth/login\",\n  async (userLogIn, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"users/login\", userLogIn);\n      token.set(data.token);\n      return data;\n    } catch (err) {\n      return rejectWithValue(err.message);\n    }\n  }\n);\n\nconst logOut = createAsyncThunk(\n  \"auth/logout\",\n  async (_, { rejectWithValue }) => {\n    try {\n      await axios.post(\"/users/logout\");\n      token.unset();\n    } catch (err) {\n      return rejectWithValue(err.message);\n    }\n  }\n);\n\nconst fetchCurrentUser = createAsyncThunk(\n  \"auth/refresh\",\n  async (_, thunkAPI, { rejectWithValue }) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get(\"/users/current\");\n      return data;\n    } catch (err) {\n      return rejectWithValue(err.message);\n    }\n  }\n);\n\nconst operations = {\n  register,\n  logIn,\n  logOut,\n  fetchCurrentUser,\n};\n\nexport default operations;\n","const getIsLoggedIn = (state) => state.auth.isLoggedIn;\nconst getUserName = (state) => state.auth.user.name;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUserName,\n};\n\nexport default authSelectors;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { authOperations } from \"./index\";\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    // [authOperations.logIn.rejected](state, action) {\n    //   return {\n    //   ...state,\n    //   isLoggedIn = false,\n    //   error: action.payload\n    // };\n\n    // },\n    [authOperations.logIn.rejected](state, action) {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n    },\n\n    [authOperations.logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const changeFilter = createAction(\"contacts/ChangeFilter\");\r\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nexport async function regUserAsync(o) {\n  const { data } = await axios.post(\"users/signup\", o);\n  return data;\n}\n\nexport async function logInUserAsync() {\n  const { data } = await axios.post(\"users/login\");\n  return data;\n}\n\nexport async function fetchContactsAsync() {\n  const { data } = await axios.get(\"/contacts\");\n  return data;\n}\n\nexport async function addContactAsync(o) {\n  const { data } = await axios.post(\"/contacts\", o);\n  return data;\n}\nexport async function deleteContactsAsync(id) {\n  const { data } = await axios.delete(`/contacts/${id}`);\n  return data;\n}\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport * as actualAPI from \"../../services/api-store\";\r\n\r\n//---------------------------------------------asyncThunk----------------------------------------------//\r\nconst fetchContact = createAsyncThunk(\r\n  \"contacts/fetchContactsGlobal\",\r\n  async () => {\r\n    const contacts = await actualAPI.fetchContactsAsync();\r\n    return contacts;\r\n  }\r\n);\r\n\r\nconst addContact = createAsyncThunk(\"contacts/сontactsGlobal\", async (cont) => {\r\n  const contacts = await actualAPI.addContactAsync(cont);\r\n  return contacts;\r\n});\r\n\r\nconst deleteContact = createAsyncThunk(\r\n  \"contacts/deleteContactGlobal\",\r\n  async (id) => {\r\n    await actualAPI.deleteContactsAsync(id);\r\n    return id;\r\n  }\r\n);\r\n\r\nconst contactsOperations = {\r\n  deleteContact,\r\n  fetchContact,\r\n  addContact,\r\n};\r\n\r\nexport default contactsOperations;\r\n","const getContacts = (state) => state.contacts.contactsList;\nconst getFilter = (state) => state.contacts.contactsFilter;\nconst getLoading = (state) => state.contacts.loading;\n\nconst contactsSelectors = {\n  getContacts,\n  getFilter,\n  getLoading,\n};\n\nexport default contactsSelectors;\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport { changeFilter } from \"./phonebook-actions\";\r\nimport contactsOperations from \"./phonebook-operations\";\r\n\r\nconst contactsList = createReducer([], {\r\n  [contactsOperations.fetchContact.fulfilled]: (_, { payload }) => payload,\r\n  [contactsOperations.addContact.fulfilled]: (state, { payload }) => [\r\n    ...state,\r\n    payload,\r\n  ],\r\n  [contactsOperations.deleteContact.fulfilled]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [contactsOperations.fetchContact.pending]: () => true,\r\n  [contactsOperations.fetchContact.fulfilled]: () => false,\r\n  [contactsOperations.fetchContact.rejected]: () => false,\r\n  [contactsOperations.addContact.pending]: () => true,\r\n  [contactsOperations.addContact.fulfilled]: () => false,\r\n  [contactsOperations.addContact.rejected]: () => false,\r\n  [contactsOperations.deleteContact.pending]: () => true,\r\n  [contactsOperations.deleteContact.fulfilled]: () => false,\r\n  [contactsOperations.deleteContact.rejected]: () => false,\r\n});\r\n\r\nconst contactsFilter = createReducer(\"\", {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  contactsFilter,\r\n  loading,\r\n  contactsList,\r\n});\r\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Navigation = () => (\n  <ul className=\"nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0\">\n    <li>\n      <NavLink to=\"/\" exact=\"true\" className=\"nav-link px-2 \">\n        Main\n      </NavLink>\n    </li>\n    <li>\n      <NavLink to=\"/contacts\" exact=\"true\" className=\"nav-link px-2 \">\n        Contacts\n      </NavLink>\n    </li>\n  </ul>\n);\n\nexport default Navigation;\n","export default __webpack_public_path__ + \"static/media/Gubka_BobAvatar.d4072b68.jpg\";","import { useDispatch, useSelector } from \"react-redux\";\nimport { authSelectors, authOperations } from \"../../redux/auth\";\nimport defaultAvatar from \"./Gubka_BobAvatar.jpg\";\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUserName);\n  const avatar = defaultAvatar;\n\n  return (\n    <div className=\"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start\">\n      <img src={avatar} className=\"p-3\" width=\"90\" alt=\"bob\" />\n      <span className=\"p-3\" style={{ fontSize: 15 }}>\n        Welcome, {name}!\n      </span>\n      <button\n        className=\"btn btn-warning p-1\"\n        style={{ width: 90, height: 35 }}\n        type=\"button\"\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        Sign out\n      </button>\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div className=\"text-end\">\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact=\"true\"\r\n        className=\"btn btn-outline-light me-2\"\r\n        style={{ fontSize: 10 }}\r\n        activestyle=\"nav__linkActv\"\r\n      >\r\n        Sign in\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact=\"true\"\r\n        className=\"btn btn-primary\"\r\n        style={{ fontSize: 10 }}\r\n        activestyle=\"nav__linkActv\"\r\n      >\r\n        Sign up\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport Navigation from \"./Navigation\";\r\nimport UserMenu from \"./UserMenu\";\r\nimport AuthNav from \"./AuthNav\";\r\nimport { authSelectors } from \"../redux/auth\";\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <header className=\"header p-2 bg-dark text-white\">\r\n      <div className=\"container\">\r\n        <div className=\"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start\">\r\n          <a\r\n            href=\"https://rozmalovkin.com.ua/wp-content/uploads/jnkbgyvr1687_14963.jpg\"\r\n            className=\"d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"30\"\r\n              height=\"30\"\r\n              fill=\"currentColor\"\r\n              className=\"bi bi-bug\"\r\n              viewBox=\"0 0 16 16\"\r\n            >\r\n              <path d=\"M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z\" />\r\n            </svg>\r\n          </a>\r\n\r\n          <Navigation />\r\n\r\n          {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { authSelectors } from \"../redux/auth\";\r\n\r\nexport default function PrivateRoute({ children, redirectTo }) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return isLoggedIn ? children : <Navigate to={redirectTo} />;\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { authSelectors } from \"../redux/auth\";\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo,\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return shouldRedirect ? <Navigate to={redirectTo} /> : children;\r\n}\r\n","import { useEffect, Suspense, lazy } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport AppBar from \"./Components/AppBar\";\r\n// import Container from \"./Components/Container\";\r\nimport PrivateRoute from \"./Components/PrivateRoute\";\r\nimport PublicRoute from \"./Components/PublicRoute\";\r\nimport { authOperations } from \"./redux/auth\";\r\n\r\nconst ContactsView = lazy(() => import(\"./views/ContactsView\"));\r\nconst HomeView = lazy(() => import(\"./views/HomeView\"));\r\nconst RegisterView = lazy(() => import(\"./views/RegisterView\"));\r\nconst LoginView = lazy(() => import(\"./views/LoginView\"));\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperations.fetchCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className=\"contain\">\r\n      <AppBar />\r\n\r\n      <Suspense fallback=\"Wreally?)))\">\r\n        <Routes>\r\n          <Route\r\n            exact=\"true\"\r\n            path=\"/\"\r\n            element={\r\n              <PublicRoute redirectTo=\"/\">\r\n                <HomeView />\r\n              </PublicRoute>\r\n            }\r\n          ></Route>\r\n          <Route\r\n            exact=\"true\"\r\n            path=\"/register\"\r\n            restricted\r\n            element={\r\n              <PublicRoute restricted redirectTo=\"/contacts\">\r\n                <RegisterView />\r\n              </PublicRoute>\r\n            }\r\n          ></Route>\r\n\r\n          <Route\r\n            exact=\"true\"\r\n            path=\"/login\"\r\n            element={\r\n              <PublicRoute restricted redirectTo=\"/contacts\">\r\n                <LoginView />\r\n              </PublicRoute>\r\n            }\r\n          ></Route>\r\n          <Route\r\n            path=\"/contacts\"\r\n            element={\r\n              <PrivateRoute redirectTo=\"/login\">\r\n                <ContactsView />\r\n              </PrivateRoute>\r\n            }\r\n          ></Route>\r\n        </Routes>\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\n// import { combineReducers } from \"redux\";\r\n// import { contactsFilter, contactsList } from \"./Phonebook/phonebook-reducer\";\r\n// import logger from \"redux-logger\";\r\n\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\n\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { contactsReducer } from \"./Phonebook\";\r\nimport { authReducer } from \"./auth\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactsReducer,\r\n    middleware,\r\n    // middleware: (getDefaultMiddlaware) =>\r\n    //   getDefaultMiddlaware({\r\n    //     serializableCheck: {\r\n    //       ignoredActions: [FLUSH, REGISTER, PAUSE, REHYDRATE, PERSIST, PURGE],\r\n    //     },\r\n    //   }),\r\n    devTools: process.env.NODE_ENV === \"development\",\r\n  },\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { store, persistor } from \"./redux/store\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport \"./index.css\";\r\nimport \"./bootstrap-5.1.3-dist/css/bootstrap.css\";\r\nimport \"modern-normalize/modern-normalize.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate persistor={persistor} loading={null}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}