(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{12:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return O})),n.d(e,"b",(function(){return x}));var c,r=n(3),a=n.n(r),u=n(7),o=n(8),s=n.n(o),i=n(5),l=function(t){s.a.defaults.headers.common.Authorization="Bearer ".concat(t)},d=function(){s.a.defaults.headers.common.Authorization=""},b=Object(i.c)("auth/register",function(){var t=Object(u.a)(a.a.mark((function t(e){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,s.a.post("users/signup",e);case 4:return n=t.sent,c=n.data,l(c.token),t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()),j=Object(i.c)("auth/login",function(){var t=Object(u.a)(a.a.mark((function t(e){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.post("users/login",e);case 3:return n=t.sent,c=n.data,l(c.token),t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),f=Object(i.c)("auth/logout",Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.post("/users/logout");case 3:d(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))),h=Object(i.c)("auth/refresh",function(){var t=Object(u.a)(a.a.mark((function t(e,n){var c,r,u,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n.getState(),null!==(r=c.auth.token)){t.next=4;break}return t.abrupt("return",n.rejectWithValue());case 4:return l(r),t.prev=5,t.next=8,s.a.get("/users/current");case 8:return u=t.sent,o=u.data,t.abrupt("return",o);case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}()),p={register:b,logIn:j,logOut:f,fetchCurrentUser:h},O={getIsLoggedIn:function(t){return t.auth.isLoggedIn},getUserName:function(t){return t.auth.user.name}},g=n(4),x=Object(i.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1},extraReducers:(c={},Object(g.a)(c,p.register.fulfilled,(function(t,e){t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0})),Object(g.a)(c,p.logIn.fulfilled,(function(t,e){t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0})),Object(g.a)(c,p.logOut.fulfilled,(function(t,e){t.user={name:null,email:null},t.token=null,t.isLoggedIn=!1})),Object(g.a)(c,p.fetchCurrentUser.fulfilled,(function(t,e){t.user=e.payload,t.isLoggedIn=!0})),c)}).reducer},20:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=n(5),r=Object(c.b)("contacts/ChangeFilter")},25:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return z}));var c=n(3),r=n.n(c),a=n(7),u=n(5),o=n(8),s=n.n(o);function i(){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(r.a.mark((function t(){var e,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/contacts");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return b.apply(this,arguments)}function b(){return(b=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("/contacts",e);case 2:return n=t.sent,c=n.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return f.apply(this,arguments)}function f(){return(f=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.delete("/contacts/".concat(e));case 2:return n=t.sent,c=n.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s.a.defaults.baseURL="https://connections-api.herokuapp.com";var h,p,O=Object(u.c)("contacts/fetchContactsGlobal",Object(a.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))),g=Object(u.c)("contacts/\u0441ontactsGlobal",function(){var t=Object(a.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),x=Object(u.c)("contacts/deleteContactGlobal",function(){var t=Object(a.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),v={deleteContact:x,fetchContact:O,addContact:g},m={getContacts:function(t){return t.contacts.contactsList},getFilter:function(t){return t.contacts.contactsFilter},getLoading:function(t){return t.contacts.loading}},k=n(20),w=n(4),y=n(22),C=n(6),I=Object(u.d)([],(h={},Object(w.a)(h,v.fetchContact.fulfilled,(function(t,e){return e.payload})),Object(w.a)(h,v.addContact.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(y.a)(t),[n])})),Object(w.a)(h,v.deleteContact.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),h)),N=Object(u.d)(!1,(p={},Object(w.a)(p,v.fetchContact.pending,(function(){return!0})),Object(w.a)(p,v.fetchContact.fulfilled,(function(){return!1})),Object(w.a)(p,v.fetchContact.rejected,(function(){return!1})),Object(w.a)(p,v.addContact.pending,(function(){return!0})),Object(w.a)(p,v.addContact.fulfilled,(function(){return!1})),Object(w.a)(p,v.addContact.rejected,(function(){return!1})),Object(w.a)(p,v.deleteContact.pending,(function(){return!0})),Object(w.a)(p,v.deleteContact.fulfilled,(function(){return!1})),Object(w.a)(p,v.deleteContact.rejected,(function(){return!1})),p)),L=Object(u.d)("",Object(w.a)({},k.a,(function(t,e){return e.payload}))),z=Object(C.b)({contactsFilter:L,loading:N,contactsList:I})},69:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(21),u=n.n(a),o=n(11),s=n(2),i=n(13),l=n(1),d=function(){return Object(l.jsxs)("ul",{className:"nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0",children:[Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/",exact:"true",className:"nav-link px-2 ",children:"Main"})}),Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/contacts",exact:"true",className:"nav-link px-2 ",children:"Contacts"})})]})},b=n(12);n.p;function j(){var t=Object(o.b)();Object(o.c)(b.c.getUserName);return Object(l.jsx)("div",{className:"userNav",children:Object(l.jsx)("button",{className:"btn btn-warning",type:"button",onClick:function(){return t(b.a.logOut())},children:"quit"})})}function f(){return Object(l.jsxs)("div",{className:"text-end",children:[Object(l.jsx)(i.b,{to:"/login",exact:"true",className:"btn btn-outline-light me-2",style:{fontSize:10},activestyle:"nav__linkActv",children:"Login"}),Object(l.jsx)(i.b,{to:"/register",exact:"true",className:"btn btn-warning",style:{fontSize:10},activestyle:"nav__linkActv",children:"Sign-in"})]})}function h(){var t=Object(o.c)(b.c.getIsLoggedIn);return Object(l.jsx)("header",{className:"header p-3 bg-dark text-white",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start",children:[Object(l.jsx)("a",{href:"https://rozmalovkin.com.ua/wp-content/uploads/jnkbgyvr1687_14963.jpg",className:"d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none",children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-bug",viewBox:"0 0 16 16",children:Object(l.jsx)("path",{d:"M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"})})}),Object(l.jsx)(d,{}),t?Object(l.jsx)(j,{}):Object(l.jsx)(f,{})]})})})}function p(t){var e=t.children,n=t.redirectTo;return Object(o.c)(b.c.getIsLoggedIn)?e:Object(l.jsx)(s.a,{to:n})}function O(t){var e=t.children,n=t.restricted,c=void 0!==n&&n,r=t.redirectTo;return Object(o.c)(b.c.getIsLoggedIn)&&c?Object(l.jsx)(s.a,{to:r}):e}var g=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,81))})),x=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,78))})),v=Object(c.lazy)((function(){return n.e(6).then(n.bind(null,79))})),m=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,80))}));function k(){var t=Object(o.b)();return Object(c.useEffect)((function(){t(b.a.fetchCurrentUser())}),[t]),Object(l.jsxs)("div",{className:"contain",children:[Object(l.jsx)(h,{}),Object(l.jsx)(c.Suspense,{fallback:"Wreally?)))",children:Object(l.jsxs)(s.d,{children:[Object(l.jsx)(s.b,{exact:"true",path:"/",element:Object(l.jsx)(O,{redirectTo:"/",children:Object(l.jsx)(x,{})})}),Object(l.jsx)(s.b,{exact:"true",path:"/register",restricted:!0,element:Object(l.jsx)(O,{restricted:!0,redirectTo:"/contacts",children:Object(l.jsx)(v,{})})}),Object(l.jsx)(s.b,{exact:"true",path:"/login",element:Object(l.jsx)(O,{restricted:!0,redirectTo:"/contacts",children:Object(l.jsx)(m,{})})}),Object(l.jsx)(s.b,{path:"/contacts",element:Object(l.jsx)(p,{redirectTo:"/login",children:Object(l.jsx)(g,{})})})]})})]})}var w=n(22),y=n(5),C=n(14),I=n(35),N=n.n(I),L=n(25),z=Object(w.a)(Object(y.f)({serializableCheck:{ignoredActions:[C.a,C.f,C.b,C.c,C.d,C.e]}})),A={key:"auth",storage:N.a,whitelist:["token"]},H=Object(y.a)({reducer:{auth:Object(C.g)(A,b.b),contacts:L.b,middleware:z,devTools:!1}}),S=Object(C.h)(H),T=n(36);n(69),n(70),n(71);u.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(o.a,{store:H,children:Object(l.jsx)(T.a,{persistor:S,loading:null,children:Object(l.jsx)(i.a,{children:Object(l.jsx)(k,{})})})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.a1ce099f.chunk.js.map